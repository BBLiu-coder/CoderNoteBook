# c++ 多个文件链接的时候非static变量初始化顺序问题

这是一个非常需要注意的坑，在多个文件链接的时候，文件a定义了test1对象，文件b定义了test2对象。那么，问题来了，test1对象先初始化，还是test2对象先初始化？

答：其实是不一定的。当然，这个可能没有问题，但是如果test2对象的初始化依赖于test1，或者是test1的对象依赖于test2，那么，问题就来了。举个例子，如果test1的初始化依赖于test2，但是编译器先初始化了test1，test1初始化的时候test2还没有初始化，那么test1的初始化就会失败。

举个例子：
show_code_here -> 

**这个问题出现在程序执行main函数之前，初始化“全局变量”(数据段的成员)之前，如果在代码里面出现了一个no-static变量的初始化依赖于另外一个，这个的代码估计是要除问题的，需要做检查。**